---
layout: base
title: Home
---

<header class="hero">
  <h1>Welcome to {{ site.title }}</h1>
  <p class="lead">Browse Active, In-Progress, and Deprecated specs.</p>
  <div class="actions">
    <a class="btn primary" href="{{ site.baseurl }}/../../issues/new?template=new-spec.yml">
      Submit a New Design Spec
    </a>
  </div>

  <div class="tabs" role="tablist" aria-label="Spec status">
    <button class="tab" role="tab" aria-selected="true" data-target="active">Active</button>
    <button class="tab" role="tab" aria-selected="false" data-target="in-progress">In-Progress</button>
    <button class="tab" role="tab" aria-selected="false" data-target="deprecated">Deprecated</button>
  </div>

  <div class="searchbar">
    <input id="q" type="search" placeholder="Search by title or idâ€¦" aria-label="Search specs">
  </div>
</header>

{% assign specs = site.specs | sort: 'id' %}

<section class="panel">
  <table id="specTable" aria-live="polite">
    <thead>
      <tr>
        <th style="width:80px">ID</th>
        <th>Title</th>
        <th style="width:160px">Created At</th>
        <th style="width:120px">Access</th>
      </tr>
    </thead>
    <tbody id="rows">
      {% for s in specs %}
        {% if s.name == 'index.md' %}
        <tr data-status="{{ s.status | downcase }}">
          <td data-label="ID">{{ s.id }}</td>
          <td data-label="Title">{{ s.title }}</td>
          <td data-label="Created At">{{ s.created_at }}</td>
          <td data-label="Access"><a class="view-btn" href="{{ s.url | relative_url }}">View</a></td>
        </tr>
        {% endif %}
      {% endfor %}
    </tbody>
  </table>
  <div id="empty" class="empty" hidden>No specs match this filter.</div>
</section>

<script>
const tabs=[...document.querySelectorAll('.tab')];
const rows=[...document.querySelectorAll('#rows tr')];
const q=document.getElementById('q');
const empty=document.getElementById('empty');

function applyFilters(){
  const tab=document.querySelector('.tab[aria-selected="true"]').dataset.target;
  const term=(q.value||'').toLowerCase().trim();
  let shown=0;
  rows.forEach(r=>{
    const matchTab=(r.dataset.status||'')===tab;
    const matchTerm=!term || (r.textContent||'').toLowerCase().includes(term);
    const show=matchTab && matchTerm;
    r.hidden=!show; if(show) shown++;
  });
  empty.hidden=shown!==0;
}
tabs.forEach(t=>t.addEventListener('click',()=>{
  tabs.forEach(x=>x.setAttribute('aria-selected', String(x===t)));
  applyFilters();
}));
q.addEventListener('input',applyFilters);
applyFilters();
</script>
